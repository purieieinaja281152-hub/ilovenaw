<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>‡∏ñ‡∏∂‡∏á‡∏ô‡∏≤‡∏ß ü§ç</title>

<style>
*{box-sizing:border-box;font-family:sans-serif}
body{
  margin:0;height:100vh;
  background:radial-gradient(circle at top,#ffd6e8,#fff);
  display:flex;justify-content:center;align-items:center;
  overflow:hidden
}

/* ===== page system ===== */
.page{
  position:absolute;inset:0;
  display:flex;flex-direction:column;
  justify-content:center;align-items:center;
  opacity:0;pointer-events:none;
  transition:.6s ease
}
.page.active{opacity:1;pointer-events:auto}

/* ===== envelope ===== */
.envelope{
  width:320px;height:220px;
  background:#ffb3c7;
  border-radius:22px;
  box-shadow:0 30px 80px rgba(255,105,180,.5);
  position:relative;
  animation:float 3s ease-in-out infinite
}
@keyframes float{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-14px)}
}
.envelope::before{
  content:"";position:absolute;inset:0;
  background:linear-gradient(135deg,#ffd1e1,#ff8fb1);
  clip-path:polygon(0 0,50% 60%,100% 0,100% 100%,0 100%);
  border-radius:22px
}
.envelope.open{
  animation:open .6s forwards
}
@keyframes open{
  0%{transform:scale(1)}
  60%{transform:scale(1.15)}
  100%{transform:scale(.9);opacity:0}
}

/* ===== button ===== */
.btn{
  margin-top:26px;
  padding:14px 40px;
  border:none;border-radius:40px;
  background:#ff5c8a;color:#fff;
  font-size:17px;
  transition:.15s
}
.btn:active{transform:scale(.9);background:#ff3b75}

/* ===== card ===== */
.card{
  background:#fff;
  padding:34px 26px;
  border-radius:32px;
  box-shadow:0 30px 60px rgba(255,182,193,.45);
  text-align:center;
  width:320px;
  min-height:420px;
}


/* ===== password ===== */
.code-inputs{
  display:flex;gap:10px;
  justify-content:center;margin:20px 0
}
.code-inputs input{
  width:42px;height:54px;
  font-size:22px;text-align:center;
  border-radius:12px;
  border:2px solid #ffd1e1
}
.hint{font-size:14px;color:#888;margin-bottom:10px}
.err{color:#ff4f80;height:18px}

/* ===== menu ===== */
.menu{
  display:grid;
  grid-template-columns:repeat(2,150px);
  gap:20px;margin-top:20px
}
.menu div{
  height:150px;
  background:#ff7fa6;
  border-radius:30px;
  color:#fff;
  display:flex;flex-direction:column;
  justify-content:center;align-items:center;
  font-size:18px;
  box-shadow:0 20px 50px rgba(255,105,180,.45);
  transition:.15s
}
.menu div:active{transform:scale(.9);background:#ff5c8a}

/* ===== message ===== */
.msg{
  font-size:24px;
  color:#ff4f80;
  line-height:1.7;
  animation:type .6s ease
}
@keyframes type{
  from{opacity:0;transform:translateY(10px)}
  to{opacity:1;transform:none}
}
/* ===== SONG MODE ===== */
.song-mode{
  background:radial-gradient(circle at top,#2a0033,#050008);
}


.song-card{
  background:rgba(10,0,20,.7);
  box-shadow:0 0 80px rgba(180,80,200,.25);
}


.lyrics{
  color:#fff;
  font-size:26px;
  min-height:120px;
  margin-bottom:24px;
  transition:.6s;
}

.lyrics.big{
  font-size:38px;
  color:#ff9fcf;
  transform:scale(1.15);
  text-shadow:0 0 20px rgba(255,159,207,.6);
}


.lyrics.show{
  opacity:1;
  transform:translateY(0);
}

.lyrics.hide{
  opacity:0;
  transform:translateY(-10px);
}

#subtitle {
  position: absolute;
  bottom: 18%;
  width: 100%;
  text-align: center;
  font-size: 28px;
  font-weight: 500;
  color: #e6d9ff;
  text-shadow: 0 0 12px rgba(120, 80, 160, 0.6);
  opacity: 0;
  transform: scale(1);
  transition: all 0.4s ease;
}

#subtitle.show {
  opacity: 1;
  transform: scale(1.25);
}

#subtitle.fade {
  opacity: 0;
  transform: scale(0.9);
}


/* ===== hearts ===== */
.heart{
  position:fixed;
  bottom:-20px;
  font-size:22px;
  animation:up 4s linear
}
@keyframes up{
  to{transform:translateY(-120vh);opacity:0}
}
</style>
</head>

<body>

  
<!-- sounds -->
<audio id="click" src="click.mp3" preload="auto"></audio>
<audio id="open" src="open.mp3" preload="auto"></audio>
<audio id="ok" src="success.mp3" preload="auto"></audio>


<!-- ===== PAGE 1 : envelope ===== -->
<div class="page active" id="p1">
  <div class="envelope" id="env"></div>
  <div style="margin-top:16px;color:#ff4f80">
    üíå ‡∏à‡∏î‡∏´‡∏°‡∏≤‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å‡∏ô‡∏≤‡∏ß
  </div>
  <button class="btn" onclick="openLetter()">‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏•‡∏¢</button>
</div>

<!-- ===== PAGE 2 : password ===== -->
<div class="page" id="p2">
  <div class="card">
    <h3>‡∏£‡∏´‡∏±‡∏™‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤</h3>

    <div class="code-inputs">
      <input maxlength="1">
      <input maxlength="1">
      <input maxlength="1">
      <input maxlength="1">
      <input maxlength="1">
      <input maxlength="1">
    </div>

    <div class="hint">üí° ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ: ‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö</div>
    <div class="err" id="err"></div>

    <button class="btn" onclick="check()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
  </div>
</div>

<!-- ===== PAGE 3 : menu ===== -->
<div class="page" id="p3">
  <h2 style="color:#ff4f80">‡πÄ‡∏°‡∏ô‡∏π</h2>

  <div class="menu">
    <div
  onpointerdown="openTimeMsg(true)"
>

üíå<br>‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
</div>



    <div onpointerdown="openSong(true)">
üéµ<br>‡πÄ‡∏û‡∏•‡∏á
</div>

    <div>üñº<br>‡∏£‡∏π‡∏õ</div>
    <div>üéÆ<br>‡πÄ‡∏Å‡∏°</div>
  </div>
</div>

<!-- ===== PAGE : TIME MESSAGE ===== -->
 
<div class="page" id="p5">
  
  
  <div class="card">
    

  <img id="randomImg"
       style="
         width:100%;
         height:180px;
         object-fit:cover;
         border-radius:20px;
         margin-bottom:18px;
       ">

  <div class="msg" id="timeMsg"></div>
  


    <div style="font-size:14px;color:#888;margin-top:14px">
      * ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏≤‡∏ß
    </div>

    <button class="btn" onpointerdown="playClick()" onclick="go('p3')">
  ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π
</button>

<!-- ===== PAGE : SONG ===== -->
<div class="page" id="pSong">
  <div class="card song-card">
    <div class="lyrics" id="lyric"></div>

    <button class="btn" onpointerdown="startSong()">
      ‚ñ∂Ô∏è ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á
    </button>

    <button class="btn" style="margin-top:14px"
      onpointerdown="stopSong(); go('p3')">
      ‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π
    </button>
  </div>
</div>
<div id="subtitle"></div>





  </div>
</div>

<script>
/* ===== ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤ (‡πÄ‡∏™‡∏≤‡∏£‡πå + ‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå) ===== */
const timeMessages = {
  // ‡∏®‡∏∏‡∏Å‡∏£‡πå (getDay() = 5)
  5: {
    6: "‡πÄ‡∏ä‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å‡∏ï‡∏∑‡πà‡∏ô‡∏°‡∏≤‡∏™‡∏î‡∏ä‡∏∑‡πà‡∏ô‡∏ô‡∏ô ‡∏™‡∏î‡πÉ‡∏™‡∏ô‡∏∞‡∏∞ ü§ç",
    7: "‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏á‡∏á‡∏á‡∏ô‡∏≤‡∏ß‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏ô‡∏≤‡∏ß‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏´‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞‡∏∞",
    8: "‡πÄ‡∏ä‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏¢‡∏¥‡πâ‡∏°‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÄ‡∏¢‡πâ‡∏≠‡πÜ‡∏ô‡∏∞‡∏∞",
    9: "‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ô‡∏∞‡∏∞‡∏∞ ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏á‡∏≤‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡∏ó‡πç‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏´‡πâ‡∏≤‡∏°‡∏î‡∏≠‡∏á ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Å‡πá‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏ô‡∏≤‡∏ß‡πÄ‡∏ï‡πá‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏∞",
    10: "‡∏ô‡∏≤‡∏ß‡πÄ‡∏õ‡πá‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏ö‡πâ‡∏≤‡∏á‡∏ô‡∏∞‡∏∞‡∏∞‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡∏π‡πâ‡∏à‡∏±‡∏á‡πÄ‡∏•‡∏¢ ‡πÄ‡∏£‡∏≤‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏ô‡∏∞",
    11: "‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏¥‡∏ß‡∏°‡∏±‡πâ‡∏¢‡∏¢ ‡∏°‡∏≤‡∏Å‡∏¥‡∏ô‡πÄ‡∏£‡∏≤‡∏°‡∏∞‡∏∞‡∏∞",
    12: "‡∏ï‡∏≠‡∏ô‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡∏£‡∏∂‡∏¢‡∏±‡∏á‡πÄ‡∏≠‡πà‡∏¢‡∏¢ ‡∏Å‡∏¥‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ‡πÄ‡∏•‡∏¢‡∏ô‡∏∞‡∏∞",
    13: "‡∏ö‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏ß ‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÅ‡∏£‡∏∞",
    14: "‡∏™‡∏π‡πâ‡πÜ‡πÜ‡πÜ‡∏ô‡∏∞‡∏∞‡∏∞‡πÄ‡∏£‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡πç‡∏≤‡∏•‡∏±‡∏á‡πÉ‡∏à‡πÉ‡∏´‡πâ‡πâ",
    15: "‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏ô‡∏≤‡∏ß‡∏ß‡∏ß‡∏ß‡∏ß‡∏ß‡∏ß‡∏≠‡πà‡∏∞‡∏∞‡∏∞‡∏∞‡∏∞‡∏∞‡∏∞‡∏∞",
    16: "‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏¢‡πá‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏ß ‡πÄ‡∏•‡∏¥‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏∂‡∏¢‡∏±‡∏á‡πÄ‡∏≠‡πà‡∏¢‡∏¢‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏ö‡πâ‡∏≤‡∏á‡∏á",
    17: "‡∏ô‡∏≤‡∏ß‡∏Å‡∏•‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô‡∏¢‡∏±‡∏á‡∏ô‡∏∞ ‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏¢‡πá‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô ‡πÑ‡∏õ‡∏Å‡∏•‡∏±‡∏ö‡πÉ‡∏Ñ‡∏£‡∏£ ‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏î‡∏î",
    18: "‡πÄ‡∏¢‡πá‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞ ‡∏Å‡∏•‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô‡∏¢‡∏±‡∏á‡∏á ‡πÄ‡∏£‡∏≤‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏á ‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÇ‡∏ó‡∏£‡∏£",
    19: "‡∏ó‡∏∏‡πà‡∏°‡∏ô‡∏∂‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞ ‡∏°‡∏≤‡∏Å‡∏≠‡∏î‡∏Å‡∏±‡∏ô‡∏ô‡∏ô",
    20: "‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏ô‡∏≤‡∏ß‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ ‡∏à‡∏∏‡πâ‡∏ü‡∏ü‡∏ü‡∏ü",
    21: "‡∏ô‡∏≤‡∏ß‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ô‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞ ‡∏≠‡∏¢‡πà‡∏≤‡πÅ‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏ô‡∏ô‡∏ô‡∏∞‡∏∞‡∏∞",
    22: "‡∏´‡∏•‡∏±‡∏ö‡∏£‡∏∂‡∏¢‡∏±‡∏á‡πÄ‡∏≠‡πà‡∏¢‡∏¢ ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏ô‡∏≤‡∏ß‡∏´‡∏•‡∏±‡∏ö‡∏ù‡∏±‡∏ô‡∏î‡∏µ ‡πÄ‡∏£‡∏≤‡πÑ‡∏õ‡πÄ‡∏à‡∏≠‡∏Å‡∏±‡∏ô‡πÉ‡∏ô‡∏ù‡∏±‡∏ô‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤‡∏≤",
    23: "‡∏´‡∏•‡∏±‡∏ö‡∏õ‡∏∏‡πã‡∏¢‡∏¢‡∏¢‡∏¢‡∏±‡∏á‡∏á‡∏á‡∏á ‡∏Ñ‡∏∑‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Å‡∏≠‡∏î ‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏Å‡∏≠‡∏î‡∏ô‡∏≤‡∏ß‡∏ß‡∏ß"
  },

  // ‡πÄ‡∏™‡∏≤‡∏£‡πå (getDay() = 6)
  6: {
    6: "‡∏≠‡∏£‡∏∏‡∏ì‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡πå‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å‡∏Å‡∏Å‡∏Å‡∏Å",
    7: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏Å‡∏•‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô‡∏ô‡∏ô‡∏ô‡∏ô ‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡πÅ‡∏ü‡∏ô",
    8: "‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏ô‡∏≤‡∏ß‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏î‡∏µ‡∏ó‡∏±‡πâ‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏ô ‡∏à‡∏∏‡πâ‡∏ü‡πÜ",
    9: "‡∏ñ‡∏∂‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏Å‡∏•‡πÅ‡∏ï‡πà‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÄ‡∏£‡∏≤‡πÉ‡∏Å‡∏•‡πâ‡∏Å‡∏±‡∏ô‡∏ô",
    10: "‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏á‡∏á‡∏á‡∏á ‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏Å‡∏±‡∏ô‡∏°‡∏±‡πâ‡∏¢‡πÄ‡∏≠‡πà‡∏¢‡∏¢‡∏°‡∏≤‡∏Å‡∏≠‡∏î‡πÜ‡∏Å‡∏±‡∏ô‡∏ô",
    11: "‡πÄ‡∏´‡∏á‡∏≤‡∏°‡∏±‡πâ‡∏¢‡∏¢‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å‡∏Å ‡∏£‡∏≠‡πÄ‡∏Ñ‡πâ‡∏≤‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏ô‡πâ‡∏≤‡∏≤ ‡∏Æ‡∏∂‡∏ö‡πÜ‡πÑ‡∏ß‡πâ‡πâ",
    12: "‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡πâ‡∏≤‡∏≤ ‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏õ‡∏ß‡∏î‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏Å‡∏¥‡∏ô‡∏ô",
    13: "‡∏£‡∏±‡∏Å‡∏ô‡∏≤‡∏ß‡∏ô‡∏∞‡∏∞‡∏∞‡∏∞ ‡∏£‡∏±‡∏Å‡∏°‡∏≤‡∏Å‡πÜ‡πÜ‡πÜ",
    14: "‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏Å‡∏≠‡∏î",
    15: "‡∏ô‡∏≤‡∏ß‡∏ß‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ ‡∏Å‡∏≠‡∏î‡∏Å‡∏±‡∏ô‡∏ô‡∏ô‡πÅ‡∏ô‡πà‡∏ô‡πÜ‡πÜ‡πÜ‡πÄ‡∏•‡∏¢‡∏¢",
    16: "‡πÄ‡∏£‡∏≤‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÉ‡∏Å‡∏•‡πâ‡πÑ‡∏î‡πâ‡∏Å‡∏•‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏ß ‡πÄ‡∏£‡∏≤‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å‡∏°‡∏≤‡∏Å‡∏Å‡∏Å‡∏Å",
    17: "‡πÄ‡∏£‡∏≤‡∏ñ‡∏∂‡∏á‡∏£‡∏∂‡∏¢‡∏±‡∏á53426723542",
    18: "6‡πÇ‡∏°‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡πà‡∏≤‡∏à‡∏∞‡∏ñ‡∏∂‡∏á‡∏•‡∏∞‡πÅ‡∏´‡∏•‡∏∞",
    19: "‡∏ñ‡∏∂‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏ß‡∏ß100%"
  }
};
/* ===== ‡∏£‡∏π‡∏õ‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏≤‡∏°‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á ===== */
const images = [
  "img1.jpg",
  "img2.jpg",
  "img3.jpg",
  "img4.jpg",
  "img5.jpg",
  "img6.jpg",
  "img7.jpg",
  "img8.jpg",
  "img9.jpg",
  "img10.jpg"
]

function setRandomImage(){
  const hour = new Date().getHours()
  const index = hour % images.length
  const img = document.getElementById("randomImg")
  if(img) img.src = images[index]
}



function openTimeMsg(fromUser){
  if(fromUser) playClick()   // üî• ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô gesture

  setRandomImage()
  go("p5")

  const now = new Date()
  const day = now.getDay()
  const hour = now.getHours()

  document.getElementById("timeMsg").innerText =
    timeMessages[day]?.[hour]
    || "‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏´‡∏ô ‡πÄ‡∏£‡∏≤‡∏Å‡πá‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏ô‡∏≤‡∏ß‡∏ô‡∏∞ ü§ç"
}


function playClick(){
  const s = document.getElementById("click")
  if(!s) return
  s.pause()
  s.currentTime = 0
  s.play().catch(()=>{})
}


</script>

<script>


let lyricIndex = 0
let timer

function openSong(fromUser){
  if(fromUser) playClick()
  go("pSong")
}

function startSong(){
  document.body.classList.add("song-mode")

  song.currentTime = 0
  song.volume = 1

  song.play().then(()=>{
    console.log("üéµ song playing")
  }).catch(err=>{
    console.log("‚ùå play error", err)
  })

  lyricIndex = 0
  lyricBox.innerText = ""

  clearInterval(timer)
  timer = setInterval(updateLyric, 100)
}


function updateLyric(){
  if(lyricIndex >= lyrics.length) return

  if(song.currentTime >= lyrics[lyricIndex].t){
    lyricBox.classList.remove("show","big")
    lyricBox.classList.add("hide")

    setTimeout(()=>{
      lyricBox.innerText = lyrics[lyricIndex].w
      lyricBox.classList.remove("hide")
      lyricBox.classList.add("show","big")
      lyricIndex++
    },200)
  }
}



function stopSong(){
  song.pause()
  song.currentTime = 0
  document.body.classList.remove("song-mode")
  clearInterval(timer)
}
  const song = document.getElementById("song")
const lyricBox = document.getElementById("lyric")
const lyrics = [
  { t: 19.0, w: "‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á" },
  { t: 20.5, w: "‡∏â‡∏±‡∏ô‡πÑ‡∏´‡∏°" },
  { t: 22.8, w: "‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏ò‡∏≠" },
  { t: 25.8, w: "‡πÄ‡∏´‡∏á‡∏≤" },

  { t: 31.5, w: "‡∏£‡∏π‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡πà‡∏≤" },
  { t: 34.8, w: "‡∏ß‡πà‡∏≤‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏∑‡∏ô" },
  { t: 38.0, w: "‡∏â‡∏±‡∏ô‡∏¢‡∏±‡∏á‡∏£‡∏≠" }
]
</script>



<script>
  const env = document.getElementById("env")
song.ontimeupdate = () => {
  console.log(song.currentTime.toFixed(2))
}

const snd={
  click:document.getElementById("click"),
  open:document.getElementById("open"),
  ok:document.getElementById("ok")
}
function playSound(sound){
  navigator.vibrate?.(15)

  if(!sound) return
  sound.pause()
  sound.currentTime = 0
  sound.play().catch(()=>{})
}


function go(id){
  document.querySelectorAll(".page")
    .forEach(p=>p.classList.remove("active"))
  document.getElementById(id).classList.add("active")
}


function openLetter(){
  playSound(snd.open)
  navigator.vibrate?.(15)

  env.classList.add("open")
  setTimeout(()=>go("p2"),600)
}


/* password */
const inputs=document.querySelectorAll(".code-inputs input")
inputs.forEach((inp,i)=>{
  inp.addEventListener("input",()=>{
    if(inp.value && i<inputs.length-1)
      inputs[i+1].focus()
  })
})

function check(){
  const code=[...inputs].map(i=>i.value).join("")
  if(code==="141068"){
    playSound(snd.ok)
    go("p3")
    for(let i=0;i<20;i++){
      const h=document.createElement("div")
      h.className="heart"
      h.innerText="üíó"
      h.style.left=Math.random()*100+"vw"
      document.body.appendChild(h)
      setTimeout(()=>h.remove(),4000)
    }
  }else{
    err.innerText="‡∏ú‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞ ‡∏•‡∏≠‡∏á‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ üò≥"
     playClick()

     navigator.vibrate?.(15)

     navigator.vibrate?.(15)

  }
}

/* message */
function openMsg(){
  playClick()

  go("p4")
  msg.innerText="‡πÄ‡∏£‡∏≤‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à‡∏ó‡∏≥‡πÄ‡∏ß‡πá‡∏ö‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡∏ô‡∏≤‡∏ß‡∏à‡∏£‡∏¥‡∏á‡πÜ‡∏ô‡∏∞ ü§ç"
}
</script>

<audio id="song" src="song.mp3" preload="auto"></audio>



</body>
</html>
